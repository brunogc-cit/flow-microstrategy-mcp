{
  "manifest_version": "0.3",
  "name": "flow-microstrategy-mcp",
  "version": "1.0.0",
  "description": "MCP server for MicroStrategy to Power BI migration - query metrics, attributes, dependencies and lineage.",
  "author": {
    "name": "CI&T Flow",
    "url": "https://flow.ciandt.com/"
  },
  "homepage": "https://github.com/brunogc-cit/flow-microstrategy-mcp",
  "documentation": "https://github.com/brunogc-cit/flow-microstrategy-mcp",
  "support": "https://github.com/brunogc-cit/flow-microstrategy-mcp/issues",
  "user_config": {
    "FLOW_URI": {
      "type": "string",
      "title": "Connection URI",
      "description": "Connection URI (e.g., bolt://localhost:7687)",
      "required": true,
      "sensitive": false
    },
    "FLOW_USERNAME": {
      "type": "string",
      "title": "Neo4j username",
      "description": "Neo4j username (e.g., neo4j)",
      "required": true,
      "sensitive": false
    },
    "FLOW_PASSWORD": {
      "type": "string",
      "title": "Neo4j password",
      "description": "Neo4j password",
      "required": true,
      "sensitive": true
    },
    "FLOW_DATABASE": {
      "type": "string",
      "title": "Database name",
      "description": "Database name (e.g., neo4j)",
      "required": false,
      "sensitive": false
    },
    "FLOW_READ_ONLY": {
      "type": "boolean",
      "title": "Readonly flag",
      "description": "Set to true to disable write tools",
      "required": false,
      "sensitive": false
    },
    "FLOW_TELEMETRY": {
      "type": "boolean",
      "title": "Telemetry",
      "description": "Set to false to disable telemetry (default true)",
      "required": false,
      "sensitive": false
    },
    "FLOW_LOG_LEVEL": {
      "type": "string",
      "title": "Log Level",
      "description": "Log level (e.g., debug, info, notice, warning, error, critical, alert, emergency)",
      "required": false,
      "sensitive": false
    },
    "FLOW_LOG_FORMAT": {
      "type": "string",
      "title": "Log Format",
      "description": "Log output format: text or json (default text)",
      "required": false,
      "sensitive": false
    },
    "FLOW_SCHEMA_SAMPLE_SIZE": {
      "type": "string",
      "title": "Schema inference sample size",
      "description": "Number of nodes to sample for schema inference",
      "required": false,
      "sensitive": false
    }
  },
  "server": {
    "type": "binary",
    "entry_point": "flow-microstrategy-mcp",
    "mcp_config": {
      "command": "${__dirname}${/}bin/flow-microstrategy-mcp",
      "env": {
        "FLOW_URI": "${user_config.FLOW_URI}",
        "FLOW_USERNAME": "${user_config.FLOW_USERNAME}",
        "FLOW_PASSWORD": "${user_config.FLOW_PASSWORD}",
        "FLOW_DATABASE": "${user_config.FLOW_DATABASE}",
        "FLOW_READ_ONLY": "${user_config.FLOW_READ_ONLY}",
        "FLOW_TELEMETRY": "${user_config.FLOW_TELEMETRY}",
        "FLOW_LOG_LEVEL": "${user_config.FLOW_LOG_LEVEL}",
        "FLOW_LOG_FORMAT": "${user_config.FLOW_LOG_FORMAT}",
        "FLOW_SCHEMA_SAMPLE_SIZE": "${user_config.FLOW_SCHEMA_SAMPLE_SIZE}"
      }
    }
  },
  "tools": [
    {
      "name": "get-schema",
      "description": "Retrieve the schema information from the Neo4j database, including node labels, relationship types, and property keys. USE FOR: Understanding the database structure before writing queries. DO NOT USE FOR: Querying actual data (use read-cypher instead)."
    },
    {
      "name": "read-cypher",
      "description": "Execute read-only Cypher queries against the Neo4j database. USE FOR: Custom queries, ad-hoc data exploration, complex aggregations. DO NOT USE FOR: Write operations (CREATE, MERGE, DELETE, SET), schema/admin commands, or PROFILE queries."
    },
    {
      "name": "list-gds-procedures",
      "description": "Discover available Graph Data Science (GDS) procedures in the Neo4j environment. USE FOR: Planning graph analytics (centrality, community detection, similarity, pathfinding) before executing them. DO NOT USE FOR: Executing GDS procedures (use read-cypher with the discovered procedure). NOTE: Empty response indicates GDS is not installed."
    },
    {
      "name": "search-metrics",
      "description": "Find MicroStrategy Metrics by GUID or name. Accepts full GUIDs, partial GUIDs (8+ chars), or name search terms. USE FOR: Finding metrics by name or GUID, filtering by parity status, getting metric details before tracing lineage. DO NOT USE FOR: Partial GUIDs < 8 chars, lineage tracing (use trace-metric), searching Attributes (use search-attributes). PAGINATION: Returns 100 results; if moreResults=true, call again with offset+100."
    },
    {
      "name": "search-attributes",
      "description": "Find MicroStrategy Attributes by GUID or name. Accepts full GUIDs, partial GUIDs (8+ chars), or name search terms. USE FOR: Finding attributes by name or GUID, filtering by parity status, getting attribute details before tracing lineage. DO NOT USE FOR: Partial GUIDs < 8 chars, lineage tracing (use trace-attribute), searching Metrics (use search-metrics). PAGINATION: Returns 100 results; if moreResults=true, call again with offset+100."
    },
    {
      "name": "trace-metric",
      "description": "Trace lineage of a MicroStrategy Metric using live graph traversal. USE FOR: Impact analysis - finding reports that use a metric (upstream), data lineage - finding source tables (downstream), migration planning. DO NOT USE FOR: Searching metrics by name (use search-metrics first to get the GUID). DIRECTION: 'upstream' = toward reports (consumers), 'downstream' = toward tables (data sources). PAGINATION: Returns 100 results; if moreResults=true, call again with offset+100."
    },
    {
      "name": "trace-attribute",
      "description": "Trace lineage of a MicroStrategy Attribute using live graph traversal. USE FOR: Impact analysis - finding reports that use an attribute (upstream), data lineage - finding source tables (downstream), migration planning. DO NOT USE FOR: Searching attributes by name (use search-attributes first to get the GUID). DIRECTION: 'upstream' = toward reports (consumers), 'downstream' = toward tables (data sources). PAGINATION: Returns 100 results; if moreResults=true, call again with offset+100."
    }
  ],
  "compatibility": {
    "platforms": ["darwin", "linux", "win32"]
  },
  "keywords": [
    "Flow",
    "CI&T",
    "Flow Microstrategy",
    "MCP",
    "MicroStrategy",
    "Power BI",
    "Migration",
    "Metrics",
    "Attributes",
    "Lineage",
    "Neo4j"
  ],
  "license": "GPL",
  "repository": {
    "type": "git",
    "url": "https://github.com/brunogc-cit/flow-microstrategy-mcp"
  }
}
