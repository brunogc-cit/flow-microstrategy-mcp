{
  "manifest_version": "0.3",
  "name": "flow-microstrategy-mcp",
  "version": "1.0.0",
  "description": "MCP server for MicroStrategy to Power BI migration - query metrics, attributes, dependencies and lineage.",
  "author": {
    "name": "CI&T Flow",
    "url": "https://flow.ciandt.com/"
  },
  "homepage": "https://github.com/brunogc-cit/flow-microstrategy-mcp",
  "documentation": "https://github.com/brunogc-cit/flow-microstrategy-mcp",
  "support": "https://github.com/brunogc-cit/flow-microstrategy-mcp/issues",
  "user_config": {
    "FLOW_URI": {
      "type": "string",
      "title": "Connection URI",
      "description": "Connection URI (e.g., bolt://localhost:7687)",
      "required": true,
      "sensitive": false
    },
    "FLOW_USERNAME": {
      "type": "string",
      "title": "Neo4j username",
      "description": "Neo4j username (e.g., neo4j)",
      "required": true,
      "sensitive": false
    },
    "FLOW_PASSWORD": {
      "type": "string",
      "title": "Neo4j password",
      "description": "Neo4j password",
      "required": true,
      "sensitive": true
    },
    "FLOW_DATABASE": {
      "type": "string",
      "title": "Database name",
      "description": "Database name (e.g., neo4j)",
      "required": false,
      "sensitive": false
    },
    "FLOW_READ_ONLY": {
      "type": "boolean",
      "title": "Readonly flag",
      "description": "Set to true to disable write tools",
      "required": false,
      "sensitive": false
    },
    "FLOW_TELEMETRY": {
      "type": "boolean",
      "title": "Telemetry",
      "description": "Set to false to disable telemetry (default true)",
      "required": false,
      "sensitive": false
    },
    "FLOW_LOG_LEVEL": {
      "type": "string",
      "title": "Log Level",
      "description": "Log level (e.g., debug, info, notice, warning, error, critical, alert, emergency)",
      "required": false,
      "sensitive": false
    },
    "FLOW_LOG_FORMAT": {
      "type": "string",
      "title": "Log Format",
      "description": "Log output format: text or json (default text)",
      "required": false,
      "sensitive": false
    },
    "FLOW_SCHEMA_SAMPLE_SIZE": {
      "type": "string",
      "title": "Schema inference sample size",
      "description": "Number of nodes to sample for schema inference",
      "required": false,
      "sensitive": false
    }
  },
  "server": {
    "type": "binary",
    "entry_point": "flow-microstrategy-mcp",
    "mcp_config": {
      "command": "${__dirname}${/}bin/flow-microstrategy-mcp",
      "env": {
        "FLOW_URI": "${user_config.FLOW_URI}",
        "FLOW_USERNAME": "${user_config.FLOW_USERNAME}",
        "FLOW_PASSWORD": "${user_config.FLOW_PASSWORD}",
        "FLOW_DATABASE": "${user_config.FLOW_DATABASE}",
        "FLOW_READ_ONLY": "${user_config.FLOW_READ_ONLY}",
        "FLOW_TELEMETRY": "${user_config.FLOW_TELEMETRY}",
        "FLOW_LOG_LEVEL": "${user_config.FLOW_LOG_LEVEL}",
        "FLOW_LOG_FORMAT": "${user_config.FLOW_LOG_FORMAT}",
        "FLOW_SCHEMA_SAMPLE_SIZE": "${user_config.FLOW_SCHEMA_SAMPLE_SIZE}"
      }
    }
  },
  "tools": [
    {
      "name": "get-metric-by-guid",
      "description": "Get comprehensive details about a MicroStrategy Metric by GUID. Returns 22 fields including: name, status, team, priority, formula, EDW/ADE mappings (edwTable, edwColumn, adeTable, adeColumn), Power BI mappings (semanticName, semanticModel), Databricks mappings (raw, serve), and pre-computed counts (reportCount, tableCount). Use for detailed object inspection and gap analysis. Limited to 100 results per call."
    },
    {
      "name": "get-attribute-by-guid",
      "description": "Get comprehensive details about a MicroStrategy Attribute by GUID. Returns 22 fields including: name, status, team, priority, formula, EDW/ADE mappings (edwTable, edwColumn, adeTable, adeColumn), Power BI mappings (semanticName, semanticModel), Databricks mappings (raw, serve), and pre-computed counts (reportCount, tableCount). Use for detailed object inspection and gap analysis. Limited to 100 results per call."
    },
    {
      "name": "search-metrics",
      "description": "Search for MicroStrategy Metrics used by prioritized reports. Returns: type, name, guid, status, priority, team, reportCount, tableCount. Results are ordered by report count (most impactful first). PAGINATION: Returns 100 results per page. Use 'offset' parameter to paginate. Response includes 'moreResults' boolean - if true, call again with offset+100. Use for finding high-impact metrics for migration planning."
    },
    {
      "name": "search-attributes",
      "description": "Search for MicroStrategy Attributes used by prioritized reports. Returns: type, name, guid, status, priority, team, reportCount, tableCount. Results are ordered by report count (most impactful first). PAGINATION: Returns 100 results per page. Use 'offset' parameter to paginate. Response includes 'moreResults' boolean - if true, call again with offset+100. Use for finding high-impact attributes for migration planning."
    },
    {
      "name": "get-reports-using-metric",
      "description": "Find all Reports, GridReports, and Documents that use a specific Metric. Returns for each report: name, guid, type, priority (1-5), area, department, userCount. PAGINATION: Returns 100 reports per page. Use 'offset' to paginate. Response includes 'moreResults' boolean and total count via 'totalReports'. Note: High-usage metrics (e.g., 'Retail Sales Value') may have 6000+ reports. Use for impact analysis: understanding what will be affected by changes."
    },
    {
      "name": "get-reports-using-attribute",
      "description": "Find all Reports, GridReports, and Documents that use a specific Attribute. Returns for each report: name, guid, type, priority (1-5), area, department, userCount. PAGINATION: Returns 100 reports per page. Use 'offset' to paginate. Response includes 'moreResults' boolean and total count via 'totalReports'. Note: High-usage attributes may have thousands of reports. Use for impact analysis: understanding what will be affected by changes."
    },
    {
      "name": "get-metric-source-tables",
      "description": "Find source database tables (LogicalTable/Table) that a Metric depends on. Returns for each table: name, guid, type, physicalTableName, databaseInstance. Traverses the full dependency graph (up to 10 levels) through Facts, Metrics, Attributes, Columns. PAGINATION: Returns 100 tables per page. Use 'offset' to paginate. Response includes 'moreResults' boolean and 'totalTables' count. Use for data lineage analysis and DBT model generation."
    },
    {
      "name": "get-attribute-source-tables",
      "description": "Find source database tables (LogicalTable/Table) that an Attribute depends on. Returns for each table: name, guid, type, physicalTableName, databaseInstance. Traverses the full dependency graph (up to 10 levels) through Facts, Metrics, Attributes, Columns. PAGINATION: Returns 100 tables per page. Use 'offset' to paginate. Response includes 'moreResults' boolean and 'totalTables' count. Use for data lineage analysis and DBT model generation."
    },
    {
      "name": "get-metric-dependencies",
      "description": "Find what a Metric directly depends on (downstream/outbound dependencies). Returns two parts: (1) directDependencies: Objects at 1-hop distance (Facts, Metrics, Attributes, Columns) with type, name, guid, formula. (2) transitiveTableCount: Total count of tables reachable through the full dependency chain (2-10 hops). PAGINATION: Direct dependencies are paginated (100 per page). Use 'offset' to paginate. Response includes 'moreResults' boolean and 'totalDirectDeps' count. Use for understanding metric calculation logic and formula translation to SQL/DBT."
    },
    {
      "name": "get-attribute-dependencies",
      "description": "Find what an Attribute directly depends on (downstream/outbound dependencies). Returns two parts: (1) directDependencies: Objects at 1-hop distance (Facts, Metrics, Attributes, Columns) with type, name, guid, formula. (2) transitiveTableCount: Total count of tables reachable through the full dependency chain (2-10 hops). PAGINATION: Direct dependencies are paginated (100 per page). Use 'offset' to paginate. Response includes 'moreResults' boolean and 'totalDirectDeps' count. Use for understanding attribute structure and data lineage."
    },
    {
      "name": "get-metric-dependents",
      "description": "Find all Reports, GridReports, and Documents that depend on a Metric (upstream/inbound dependencies). Traverses the dependency graph through Prompts and Filters (up to 10 levels). Returns for each report: name, guid, type, priority, area, department, userCount. Also returns 'totalReports' count for the full dataset. PAGINATION: Returns 100 reports per page. Use 'offset' to paginate. Response includes 'moreResults' boolean. Use for impact analysis before modifying or deprecating a metric."
    },
    {
      "name": "get-attribute-dependents",
      "description": "Find all Reports, GridReports, and Documents that depend on an Attribute (upstream/inbound dependencies). Traverses the dependency graph through Prompts and Filters (up to 10 levels). Returns for each report: name, guid, type, priority, area, department, userCount. Also returns 'totalReports' count for the full dataset. PAGINATION: Returns 100 reports per page. Use 'offset' to paginate. Response includes 'moreResults' boolean. Use for impact analysis before modifying or deprecating an attribute."
    },
    {
      "name": "list-gds-procedures",
      "description": "Use this tool to discover what graph science and analytics functions are available in the current Neo4j environment. It returns a structured list describing each function â€” what it does, how to use it, the inputs it needs, and what kind of results it produces. Do this before any reasoning, query generation, or analysis so you know what capabilities exist. Graph science and analytics functions help you with centrality, community detection, similarity, path finding, and identifying dependencies between nodes. The tool helps you understand the analytical capabilities of the system so that you can plan or compose the right graph science operations automatically. An empty response indicates that GDS is not installed and the user should be told to install it. Remember to use unique names for graph data science projections to avoid collisions and to drop them afterwards to save memory. You must always tell the user the function you will use."
    }
  ],
  "compatibility": {
    "platforms": ["darwin", "linux", "win32"]
  },
  "keywords": [
    "Flow",
    "CI&T",
    "Flow Microstrategy",
    "MCP",
    "MicroStrategy",
    "Power BI",
    "Migration",
    "Metrics",
    "Attributes",
    "Lineage",
    "Neo4j"
  ],
  "license": "GPL",
  "repository": {
    "type": "git",
    "url": "https://github.com/brunogc-cit/flow-microstrategy-mcp"
  }
}
